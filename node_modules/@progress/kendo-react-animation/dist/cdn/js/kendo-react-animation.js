/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("prop-types"),require("@progress/kendo-react-common"),require("react-transition-group")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-react-common","react-transition-group"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).KendoReactAnimation={},t.React,t.PropTypes,t.KendoReactCommon,t.ReactTransitionGroup)}(this,(function(t,e,n,i,o){"use strict";function r(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var a=r(e);const s=class extends a.Component{constructor(){super(...arguments),this.elementRef=a.createRef()}get element(){return this.elementRef.current}render(){const{children:t,style:e,appear:n,enter:r,exit:s,transitionName:c,transitionEnterDuration:l,transitionExitDuration:d,className:m,onEnter:p,onEntering:u,onEntered:h,onExit:E,onExiting:y,onExited:x,onAfterExited:f,mountOnEnter:g,unmountOnExit:N,animationEnteringStyle:O,animationEnteredStyle:v,animationExitingStyle:C,animationExitedStyle:D,...b}=this.props,T=this.context&&this.context.uAnimation,A=i.classNames(m,i.uAnimation.childContainer({c:T})),R={transitionDelay:"0ms",...e},S={entering:{transitionDuration:`${l}ms`,...O},entered:{...v},exiting:{transitionDuration:`${d}ms`,...C},exited:{...D}},w={in:this.props.in,appear:n,enter:r,exit:s,mountOnEnter:g,unmountOnExit:N,timeout:{enter:l,exit:d},onEnter:()=>{p&&p.call(void 0,{animatedElement:this.element,target:this})},onEntering:()=>{u&&u.call(void 0,{animatedElement:this.element,target:this})},onEntered:()=>{h&&h.call(void 0,{animatedElement:this.element,target:this})},onExit:()=>{E&&E.call(void 0,{animatedElement:this.element,target:this})},onExiting:()=>{y&&y.call(void 0,{animatedElement:this.element,target:this})},onExited:()=>{f&&f.call(void 0,{animatedElement:this.element,target:this}),x&&x.call(void 0,{animatedElement:this.element,target:this})},classNames:{appear:i.classNames(i.uAnimation.appear({c:T,transitionName:c})),appearActive:i.classNames(i.uAnimation.appearActive({c:T,transitionName:c})),enter:i.classNames(i.uAnimation.enter({c:T,transitionName:c})),enterActive:i.classNames(i.uAnimation.enterActive({c:T,transitionName:c})),exit:i.classNames(i.uAnimation.exit({c:T,transitionName:c})),exitActive:i.classNames(i.uAnimation.exitActive({c:T,transitionName:c}))}};return a.createElement(o.CSSTransition,{...w,...b,nodeRef:this.elementRef},(e=>a.createElement("div",{style:{...R,...S[e]},className:A,ref:this.elementRef},t)))}};s.propTypes={in:n.bool,children:n.oneOfType([n.arrayOf(n.node),n.node]),transitionName:n.string.isRequired,className:n.string,appear:n.bool,enter:n.bool,exit:n.bool,transitionEnterDuration:n.number.isRequired,transitionExitDuration:n.number.isRequired,mountOnEnter:n.bool,unmountOnExit:n.bool,animationEnteringStyle:n.object,animationEnteredStyle:n.object,animationExitingStyle:n.object,animationExitedStyle:n.object},s.defaultProps={mountOnEnter:!0,unmountOnExit:!1,onEnter:i.noop,onEntering:i.noop,onEntered:i.noop,onExit:i.noop,onExiting:i.noop,onExited:i.noop,onAfterExited:i.noop,animationEnteringStyle:{},animationEnteredStyle:{},animationExitingStyle:{},animationExitedStyle:{}};let c=s;c.contextType=i.UnstyledContext;const l={name:"@progress/kendo-react-animation",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:0,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},d=class extends a.Component{constructor(t){super(t),i.validatePackage(l)}render(){const{id:t,style:e,children:n,component:r,className:s,childFactory:l,stackChildren:d,componentChildStyle:m,componentChildClassName:p,...u}=this.props,h=this.context&&this.context.uAnimation,E={id:t,style:e,component:r,childFactory:l,className:i.classNames(i.uAnimation.child({c:h}),s)},y=a.Children.map(n||null,(t=>a.createElement(c,{...u,style:m,className:p},t)));return a.createElement(o.TransitionGroup,{...E},y)}};d.propTypes={children:n.oneOfType([n.arrayOf(n.node),n.node]),childFactory:n.any,className:n.string,component:n.string,id:n.string,style:n.any,transitionName:n.string.isRequired,appear:n.bool.isRequired,enter:n.bool.isRequired,exit:n.bool.isRequired,transitionEnterDuration:n.number.isRequired,transitionExitDuration:n.number.isRequired},d.defaultProps={component:"div"};let m=d;m.contextType=i.UnstyledContext;const p=class extends a.Component{render(){const{children:t,...e}=this.props;return a.createElement(m,{transitionName:"fade",...e},t)}};p.propTypes={children:n.oneOfType([n.arrayOf(n.node),n.node]),childFactory:n.any,className:n.string,component:n.string,id:n.string,style:n.any},p.defaultProps={appear:!1,enter:!0,exit:!1,transitionEnterDuration:500,transitionExitDuration:500};let u=p;const h=class extends a.Component{render(){const{direction:t,children:e,...n}=this.props,i={transitionName:`expand-${t}`};return a.createElement(m,{...i,...n},e)}};h.propTypes={children:n.oneOfType([n.arrayOf(n.node),n.node]),childFactory:n.any,className:n.string,direction:n.oneOf(["horizontal","vertical"]),component:n.string,id:n.string,style:n.any},h.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"vertical"};let E=h;const y={position:"absolute",top:"0",left:"0"},x=class extends a.Component{render(){const{children:t,direction:e,...n}=this.props;return a.createElement(m,{...n,transitionName:`push-${e}`,animationExitingStyle:this.props.stackChildren?y:void 0},t)}};x.propTypes={children:n.oneOfType([n.arrayOf(n.node),n.node]),childFactory:n.any,className:n.string,direction:n.oneOf(["up","down","left","right"]),component:n.string,id:n.string,style:n.any,stackChildren:n.bool},x.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"right",stackChildren:!1};let f=x;const g=class extends a.Component{render(){const{direction:t,children:e,...n}=this.props,i={transitionName:`slide-${t}`};return a.createElement(m,{...i,...n},e)}};g.propTypes={children:n.oneOfType([n.arrayOf(n.node),n.node]),childFactory:n.any,className:n.string,direction:n.oneOf(["up","down","left","right"]),component:n.string,id:n.string,style:n.any},g.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"down"};let N=g;const O={position:"absolute",top:"0",left:"0"},v=class extends a.Component{render(){const{children:t,direction:e,...n}=this.props;return a.createElement(m,{...n,transitionName:`zoom-${e}`,animationExitingStyle:this.props.stackChildren?O:void 0},t)}};v.propTypes={children:n.oneOfType([n.arrayOf(n.node),n.node]),childFactory:n.any,className:n.string,direction:n.oneOf(["in","out"]),component:n.string,id:n.string,style:n.any,stackChildren:n.bool},v.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"out",stackChildren:!1};let C=v;const D=t=>{if(!t||!t.ownerDocument.defaultView)return 0;const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop),i=parseFloat(e.marginBottom);return t.offsetHeight+n+i},b=t=>{if(!t||!t.ownerDocument.defaultView)return 0;const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginLeft),i=parseFloat(e.marginRight);return t.offsetWidth+n+i},T=(i.animationStyles,class extends a.Component{constructor(){super(...arguments),this.state={maxHeight:void 0,maxWidth:void 0},this.componentWillEnter=t=>{const{onEnter:e,onBeforeEnter:n}=this.props;n&&n.call(void 0,t),this.updateContainerDimensions(t.animatedElement,(()=>{e&&e.call(void 0,t)}))},this.componentIsEntering=t=>{const{onEntering:e}=this.props;this.updateContainerDimensions(t.animatedElement,(()=>{e&&e.call(void 0,t)}))},this.componentWillExit=t=>{const{onExit:e}=this.props;this.updateContainerDimensions(t.animatedElement,(()=>{e&&e.call(void 0,t)}))},this.updateContainerDimensions=(t,e=i.noop)=>{const n=t.firstChild;if(n){const t=D(n),i=b(n);this.setState({maxHeight:t,maxWidth:i},e)}}}render(){const{direction:t,children:e,childFactory:n,...i}=this.props,{maxHeight:o,maxWidth:r}=this.state;let s;s="vertical"===t?{maxHeight:o?`${o}px`:""}:{maxWidth:r?`${r}px`:""};const c={maxHeight:s.maxHeight,maxWidth:s.maxWidth};return a.createElement(m,{...i,childFactory:t=>{let e=n?n(t):t;return e.props.in?e:a.cloneElement(e,{...e.props,style:{...e.props.style,maxHeight:s.maxHeight,maxWidth:s.maxWidth}})},onEnter:this.componentWillEnter,onEntering:this.componentIsEntering,onExit:this.componentWillExit,animationEnteringStyle:c,transitionName:`reveal-${t}`},e)}});T.propTypes={children:n.oneOfType([n.arrayOf(n.node),n.node]),childFactory:n.any,className:n.string,direction:n.oneOf(["horizontal","vertical"]),component:n.string,id:n.string,style:n.any},T.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"vertical"};let A=T;t.Animation=m,t.AnimationChild=c,t.Expand=E,t.Fade=u,t.Push=f,t.Reveal=A,t.Slide=N,t.Zoom=C,t.useAnimation=(t,e)=>{const n=a.useRef(0),i=a.useRef(!1),o=a.useRef();a.useEffect((()=>((t=>{const e=t.duration;let i,r,a=n.current&&1-n.current;t.onStart&&t.onStart();const s=c=>{i||(i=c),r=c-i+1;const l=r/e+a;l<=1?(t.onUpdate&&t.onUpdate(l),o.current=window.requestAnimationFrame(s),n.current=l):(t.onEnd&&t.onEnd(1),n.current=0)};o.current=window.requestAnimationFrame(s)})(t),()=>{o.current&&window.cancelAnimationFrame(o.current)})),e),a.useEffect((()=>{i.current=!0}),[])}}));
